(()=>{"use strict";const e=window.wp.blocks,o=window.React,i=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.components,c=JSON.parse('{"UU":"cookie-logic-blocks/conditional-block"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{targetCookieName:n,minVisits:s,visibilityMode:a}=e,r=(0,t.useBlockProps)({className:"cookie-logic-conditional-block"});return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(t.InspectorControls,null,(0,o.createElement)(l.PanelBody,{title:(0,i.__)("Visibility Settings","cookie-logic-blocks"),initialOpen:!0},(0,o.createElement)(l.SelectControl,{label:(0,i.__)("Visibility Mode","cookie-logic-blocks"),value:a,options:[{label:(0,i.__)("Show when condition is met","cookie-logic-blocks"),value:"show"},{label:(0,i.__)("Hide when condition is met","cookie-logic-blocks"),value:"hide"}],onChange:e=>c({visibilityMode:e}),help:(0,i.__)("Choose whether to show or hide the block when the visit count threshold is reached","cookie-logic-blocks")}),(0,o.createElement)(l.TextControl,{label:(0,i.__)("Target Cookie Name","cookie-logic-blocks"),value:n,onChange:e=>c({targetCookieName:e}),help:(0,i.__)("Enter the cookie name from the page settings (e.g., page_123, page_home)","cookie-logic-blocks"),placeholder:"page_123"}),(0,o.createElement)(l.RangeControl,{label:(0,i.__)("Minimum Visits","cookie-logic-blocks"),value:s,onChange:e=>c({minVisits:e}),min:1,max:50,help:(0,i.__)("show"===a?"Show this block after the visitor has viewed the target page this many times":"Hide this block after the visitor has viewed the target page this many times","cookie-logic-blocks")}))),(0,o.createElement)("div",{...r},(0,o.createElement)(l.Notice,{status:"info",isDismissible:!1},(0,o.createElement)("strong",null,(0,i.__)("Conditional Block","cookie-logic-blocks")),(0,o.createElement)("br",null),n?(0,o.createElement)(o.Fragment,null,"show"===a?(0,i.__)("Visible","cookie-logic-blocks"):(0,i.__)("Hidden","cookie-logic-blocks")," ",(0,i.__)("when visitor has viewed","cookie-logic-blocks")," ",(0,o.createElement)("code",null,n)," ",(0,i.__)("at least","cookie-logic-blocks")," ",(0,o.createElement)("strong",null,s)," ",1===s?(0,i.__)("time","cookie-logic-blocks"):(0,i.__)("times","cookie-logic-blocks")):(0,i.__)("Configure visibility settings in the sidebar","cookie-logic-blocks")),(0,o.createElement)("div",{className:"cookie-logic-conditional-block__content"},(0,o.createElement)(t.InnerBlocks,null))))},save:function({attributes:e}){const{targetCookieName:i,minVisits:l,visibilityMode:c}=e,n=t.useBlockProps.save({className:"cookie-logic-conditional-block","data-cookie-name":i,"data-min-visits":l,"data-visibility-mode":c});return(0,o.createElement)("div",{...n},(0,o.createElement)(t.InnerBlocks.Content,null))}})})();